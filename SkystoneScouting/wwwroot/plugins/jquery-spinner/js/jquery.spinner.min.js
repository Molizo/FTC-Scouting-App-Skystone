/*!
 * jquery.spinner v0.2.1 (https://vsn4ik.github.io/jquery.spinner/)
 * Copyright 2013-2016 xixilive
 * Licensed under the MIT license
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n(require("jquery")):n(jQuery)})(function(n){var r,t,i=function(t,r){this.$el=t;this.options=n.extend({},i.rules.defaults,i.rules[r.rule]||{},r);this.min=Number(this.options.min)||0;this.max=Number(this.options.max)||0;this.$el.on({"focus.spinner":n.proxy(function(t){t.preventDefault();n(document).trigger("mouseup.spinner");this.oldValue=this.value()},this),"change.spinner":n.proxy(function(n){n.preventDefault();this.value(this.$el.val())},this),"keydown.spinner":n.proxy(function(n){var t={38:"up",40:"down"}[n.which];t&&(n.preventDefault(),this.spin(t))},this)});return this.oldValue=this.value(),this.value(this.$el.val()),this},u;return i.rules={defaults:{min:null,max:null,step:1,precision:0},currency:{min:0,max:null,step:.01,precision:2},quantity:{min:1,max:999,step:1,precision:0},percent:{min:1,max:100,step:1,precision:0},month:{min:1,max:12,step:1,precision:0},day:{min:1,max:31,step:1,precision:0},hour:{min:0,max:23,step:1,precision:0},minute:{min:1,max:59,step:1,precision:0},second:{min:1,max:59,step:1,precision:0}},i.prototype={spin:function(t){if(!this.$el.prop("disabled")){this.oldValue=this.value();var i=n.isFunction(this.options.step)?this.options.step.call(this,t):this.options.step,r=t==="up"?1:-1;this.value(this.oldValue+Number(i)*r)}},value:function(i){if(i===null||i===undefined)return this.numeric(this.$el.val());i=this.numeric(i);var u=this.validate(i);u!==0&&(i=u===-1?this.min:this.max);this.$el.val(i.toFixed(this.options.precision));this.oldValue!==this.value()&&(this.$el.trigger("changing.spinner",[this.value(),this.oldValue]),clearTimeout(r),r=setTimeout(n.proxy(function(){this.$el.trigger("changed.spinner",[this.value(),this.oldValue])},this),t.delay))},numeric:function(n){return(n=this.options.precision>0?parseFloat(n,10):parseInt(n,10),isFinite(n))?n:n||this.options.min||0},validate:function(n){return this.options.min!==null&&n<this.min?-1:this.options.max!==null&&n>this.max?1:0}},t=function(t,r){this.$el=n(t);this.$spinning=this.$el.find('[data-spin="spinner"]');this.$spinning.length===0&&(this.$spinning=this.$el.find(':input[type="text"]'));r=n.extend({},r,this.$spinning.data());this.spinning=new i(this.$spinning,r);this.$el.on("click.spinner",'[data-spin="up"], [data-spin="down"]',n.proxy(this,"spin")).on("mousedown.spinner",'[data-spin="up"], [data-spin="down"]',n.proxy(this,"spin"));n(document).on("mouseup.spinner",n.proxy(function(){clearTimeout(this.spinTimeout);clearInterval(this.spinInterval)},this));r.delay&&this.delay(r.delay);r.changed&&this.changed(r.changed);r.changing&&this.changing(r.changing)},t.delay=500,t.prototype={constructor:t,spin:function(t){var i=n(t.currentTarget).data("spin");switch(t.type){case"click":t.preventDefault();this.spinning.spin(i);break;case"mousedown":t.which===1&&(this.spinTimeout=setTimeout(n.proxy(this,"beginSpin",i),300))}},delay:function(n){var t=Number(n);t>=0&&(this.constructor.delay=t+100)},value:function(){return this.spinning.value()},changed:function(n){this.bindHandler("changed.spinner",n)},changing:function(n){this.bindHandler("changing.spinner",n)},bindHandler:function(t,i){if(n.isFunction(i))this.$spinning.on(t,i);else this.$spinning.off(t)},beginSpin:function(t){this.spinInterval=setInterval(n.proxy(this.spinning,"spin",t),100)}},u=n.fn.spinner,n.fn.spinner=function(i,r){return this.each(function(){var u=n.data(this,"spinner");u||(u=new t(this,i),n.data(this,"spinner",u));i==="delay"||i==="changed"||i==="changing"?u[i](r):i==="step"&&r?u.spinning.step=r:i==="spin"&&r&&u.spinning.spin(r)})},n.fn.spinner.Constructor=t,n.fn.spinner.noConflict=function(){return n.fn.spinner=u,this},n(function(){n('[data-trigger="spinner"]').spinner()}),n.fn.spinner});